# create user plutus file
saveVal (assetClass "170e169de9dc68629af74abdec8cb391377ff7a8034ff23ac5f6793d" "User") (VestingParams "a71860d5e0b35967e9218a49d227cc460a1ee5b2d86f7d6cfb051ba9" 1681245690)

# send funds to script
scripts/vesting/give.sh \
  user3 \
  a14f99d31d79ed4f3dac918f9660ac22c99fd7e2d72a84288af2aedbcebd17ee#3 \
  a14f99d31d79ed4f3dac918f9660ac22c99fd7e2d72a84288af2aedbcebd17ee#2 \
  b2cff6052079401029b0dfe222944de2c713f7935e7d041ee056b66a2e4891f2#2 \
  2a6cdaeccfb529959858048efb0f7230beda3a928d929112f2baf5a59b89e6d8#1 \
  "Taylor Swift" \
  1683453600000 \

# send ticket 1 to script
scripts/vesting/give.sh \
  user3 \
  b529d5c5ecaf5bef43167d9d752e1003c93adcbddfdbfbb5679c98cf5fe2c578#1 \
  b11def2be91eb1e34c8ff6745245cf77be4036c3d349b01908a15c2d07134586#2 \
  b2cff6052079401029b0dfe222944de2c713f7935e7d041ee056b66a2e4891f2#2 \
  2a6cdaeccfb529959858048efb0f7230beda3a928d929112f2baf5a59b89e6d8#1 \
  "Taylor Swift" \
  1683453600000 \
  1

# send ticket 2 to script
scripts/vesting/give.sh \
  user3 \
  4f0124071a6151611b2c04ba440ae774430ae95b80b0bdd972c982cc6193c208#3 \
  4f0124071a6151611b2c04ba440ae774430ae95b80b0bdd972c982cc6193c208#2 \
  c18a7b9d8ebffcafb744791799dd1cf6a83c6635d0e2136efa70c83aef14cca1#2 \
  2a6cdaeccfb529959858048efb0f7230beda3a928d929112f2baf5a59b89e6d8#1 \
  "Taylor Swift" \
  1683453600000 \
  2

# grab funds
scripts/vesting/purchase.sh \
  user3 \
  c42cd4d69e9322628bcb52ba63d1ba1c03e04e61b1e7728278ec82e3e73e1286#1 \
  c42cd4d69e9322628bcb52ba63d1ba1c03e04e61b1e7728278ec82e3e73e1286#0 \
  566c4c9746e6fbb221f48632e010c0ab6aa5a39e320ce9493df54a8dbf4bb087#1 \
  a1680b604dd117569626c60a3fcd8842a736777bc1da820088b0d87012106198#1 \
  14679465 \
  b2cff6052079401029b0dfe222944de2c713f7935e7d041ee056b66a2e4891f2#2 \
  c18a7b9d8ebffcafb744791799dd1cf6a83c6635d0e2136efa70c83aef14cca1#1 \
  2a6cdaeccfb529959858048efb0f7230beda3a928d929112f2baf5a59b89e6d8#1 \
  "Taylor Swift" \
  1683453600000 \
  1

# purchase ticket 1
scripts/vesting/purchase.sh \
  user3 \
  c3209c201dc8cebc5da78cb186ff6d2ab69af06236f5bf2eff094d33cf3b9dca#1 \
  c3209c201dc8cebc5da78cb186ff6d2ab69af06236f5bf2eff094d33cf3b9dca#0 \
  a14f99d31d79ed4f3dac918f9660ac22c99fd7e2d72a84288af2aedbcebd17ee#1 \
  a1680b604dd117569626c60a3fcd8842a736777bc1da820088b0d87012106198#1 \
  14679465 \
  b2cff6052079401029b0dfe222944de2c713f7935e7d041ee056b66a2e4891f2#2 \
  c18a7b9d8ebffcafb744791799dd1cf6a83c6635d0e2136efa70c83aef14cca1#1 \
  2a6cdaeccfb529959858048efb0f7230beda3a928d929112f2baf5a59b89e6d8#1 \
  "Taylor Swift" \
  1683453600000 \
  1

# purchase ticket 2
scripts/vesting/purchase.sh \
  user3 \
  b11def2be91eb1e34c8ff6745245cf77be4036c3d349b01908a15c2d07134586#3 \
  d66dd4287dbd44ace2c8dc52138d2365f8e90680d7d83471c1c54bd5cedfa2c5#0 \
  b11def2be91eb1e34c8ff6745245cf77be4036c3d349b01908a15c2d07134586#1 \
  a1680b604dd117569626c60a3fcd8842a736777bc1da820088b0d87012106198#1 \
  14679465 \
  c18a7b9d8ebffcafb744791799dd1cf6a83c6635d0e2136efa70c83aef14cca1#2 \
  c18a7b9d8ebffcafb744791799dd1cf6a83c6635d0e2136efa70c83aef14cca1#1 \
  2a6cdaeccfb529959858048efb0f7230beda3a928d929112f2baf5a59b89e6d8#1 \
  "Taylor Swift" \
  1683453600000 \
  2
=======================


cardano-cli transaction build \
  --babbage-era \
  --testnet-magic 2 \
  --tx-in b62ee3475f0f98690bbd95ccd0c74542e236ace6a0435b5a498c0a6e7e402519#0 \
  --tx-in fa30bed95f68b655fc7f91ca09d5826e151fada1d6b4edd94b65de68a9641139#0 \
  --tx-in fa30bed95f68b655fc7f91ca09d5826e151fada1d6b4edd94b65de68a9641139#1 \
  --tx-in-collateral e9c729d97cdbaafd0b410ad6078f6facb3dd93a7a74a3c5e3f1edcc5570acc4b#1 \
  --tx-out "addr_test1vzn3scx4uze4jelfyx9yn538e3rq58h9ktvx7ltvlvz3h2gghgduf+3000000 + 1 57c47f25af5401e50ae94e7b0ddf22c5b8f808056d6a66a77d232047.55736572" \
  --change-address addr_test1vzn3scx4uze4jelfyx9yn538e3rq58h9ktvx7ltvlvz3h2gghgduf \
  --protocol-params-file assets/protocol.params \
  --witness-override 2 \
  --out-file assets/test.raw

cardano-cli transaction sign \
  --tx-body-file assets/test.raw \
  --signing-key-file keys/company.skey \
  --testnet-magic 2 \
  --out-file assets/test.signed

cardano-cli transaction submit \
  --testnet-magic 2 \
  --tx-file assets/test.signed