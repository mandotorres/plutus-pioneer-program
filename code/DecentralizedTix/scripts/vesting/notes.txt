# create user plutus file
saveVal (assetClass "170e169de9dc68629af74abdec8cb391377ff7a8034ff23ac5f6793d" "User")

# send funds to script
scripts/vesting/give.sh \
  user3 \
  a14f99d31d79ed4f3dac918f9660ac22c99fd7e2d72a84288af2aedbcebd17ee#3 \
  a14f99d31d79ed4f3dac918f9660ac22c99fd7e2d72a84288af2aedbcebd17ee#2 \
  b2cff6052079401029b0dfe222944de2c713f7935e7d041ee056b66a2e4891f2#2 \
  2a6cdaeccfb529959858048efb0f7230beda3a928d929112f2baf5a59b89e6d8#1 \
  "Taylor Swift" \
  1683453600000 \

# send ticket 1 to script
scripts/vesting/give.sh \
  user3 \
  b529d5c5ecaf5bef43167d9d752e1003c93adcbddfdbfbb5679c98cf5fe2c578#1 \
  b11def2be91eb1e34c8ff6745245cf77be4036c3d349b01908a15c2d07134586#2 \
  b2cff6052079401029b0dfe222944de2c713f7935e7d041ee056b66a2e4891f2#2 \
  2a6cdaeccfb529959858048efb0f7230beda3a928d929112f2baf5a59b89e6d8#1 \
  "Taylor Swift" \
  1683453600000 \
  1

# send ticket 2 to script
scripts/vesting/give.sh \
  user3 \
  4f0124071a6151611b2c04ba440ae774430ae95b80b0bdd972c982cc6193c208#3 \
  4f0124071a6151611b2c04ba440ae774430ae95b80b0bdd972c982cc6193c208#2 \
  c18a7b9d8ebffcafb744791799dd1cf6a83c6635d0e2136efa70c83aef14cca1#2 \
  2a6cdaeccfb529959858048efb0f7230beda3a928d929112f2baf5a59b89e6d8#1 \
  "Taylor Swift" \
  1683453600000 \
  2

# grab funds
scripts/vesting/purchase.sh \
  user3 \
  c42cd4d69e9322628bcb52ba63d1ba1c03e04e61b1e7728278ec82e3e73e1286#1 \
  c42cd4d69e9322628bcb52ba63d1ba1c03e04e61b1e7728278ec82e3e73e1286#0 \
  566c4c9746e6fbb221f48632e010c0ab6aa5a39e320ce9493df54a8dbf4bb087#1 \
  a1680b604dd117569626c60a3fcd8842a736777bc1da820088b0d87012106198#1 \
  14679465 \
  b2cff6052079401029b0dfe222944de2c713f7935e7d041ee056b66a2e4891f2#2 \
  c18a7b9d8ebffcafb744791799dd1cf6a83c6635d0e2136efa70c83aef14cca1#1 \
  2a6cdaeccfb529959858048efb0f7230beda3a928d929112f2baf5a59b89e6d8#1 \
  "Taylor Swift" \
  1683453600000 \
  1

# purchase ticket 1
scripts/vesting/purchase.sh \
  user3 \
  ed84cf2e4f574471ba56217c8ee8aee13dc44401e8539405199cd08a0e40f4d2#1 \
  ed84cf2e4f574471ba56217c8ee8aee13dc44401e8539405199cd08a0e40f4d2#0 \
  4f0124071a6151611b2c04ba440ae774430ae95b80b0bdd972c982cc6193c208#1 \
  a1680b604dd117569626c60a3fcd8842a736777bc1da820088b0d87012106198#1 \
  14679465 \
  b2cff6052079401029b0dfe222944de2c713f7935e7d041ee056b66a2e4891f2#2 \
  c18a7b9d8ebffcafb744791799dd1cf6a83c6635d0e2136efa70c83aef14cca1#1 \
  2a6cdaeccfb529959858048efb0f7230beda3a928d929112f2baf5a59b89e6d8#1 \
  "Taylor Swift" \
  1683453600000 \
  1

# purchase ticket 2
scripts/vesting/purchase.sh \
  user3 \
  60842f4e701b5ad3d72bc3dad0fd2841e1fc1f9866e719f44cf8ecd5db0e271d#3 \
  b529d5c5ecaf5bef43167d9d752e1003c93adcbddfdbfbb5679c98cf5fe2c578#0 \
  60842f4e701b5ad3d72bc3dad0fd2841e1fc1f9866e719f44cf8ecd5db0e271d#1 \
  a1680b604dd117569626c60a3fcd8842a736777bc1da820088b0d87012106198#1 \
  14679465 \
  c18a7b9d8ebffcafb744791799dd1cf6a83c6635d0e2136efa70c83aef14cca1#2 \
  9fb6eb8a4aba937cc255e83a559c8d8460bd4dc43dffe7e5a69498d765dc1ade#1 \
  2a6cdaeccfb529959858048efb0f7230beda3a928d929112f2baf5a59b89e6d8#1 \
  "Taylor Swift" \
  1683453600000 \
  2
=======================


cardano-cli transaction build \
  --babbage-era \
  --testnet-magic 2 \
  --tx-in b62ee3475f0f98690bbd95ccd0c74542e236ace6a0435b5a498c0a6e7e402519#0 \
  --tx-in fa30bed95f68b655fc7f91ca09d5826e151fada1d6b4edd94b65de68a9641139#0 \
  --tx-in fa30bed95f68b655fc7f91ca09d5826e151fada1d6b4edd94b65de68a9641139#1 \
  --tx-in-collateral e9c729d97cdbaafd0b410ad6078f6facb3dd93a7a74a3c5e3f1edcc5570acc4b#1 \
  --tx-out "addr_test1vzn3scx4uze4jelfyx9yn538e3rq58h9ktvx7ltvlvz3h2gghgduf+3000000 + 1 57c47f25af5401e50ae94e7b0ddf22c5b8f808056d6a66a77d232047.55736572" \
  --change-address addr_test1vzn3scx4uze4jelfyx9yn538e3rq58h9ktvx7ltvlvz3h2gghgduf \
  --protocol-params-file assets/protocol.params \
  --witness-override 2 \
  --out-file assets/test.raw

cardano-cli transaction sign \
  --tx-body-file assets/test.raw \
  --signing-key-file keys/company.skey \
  --testnet-magic 2 \
  --out-file assets/test.signed

cardano-cli transaction submit \
  --testnet-magic 2 \
  --tx-file assets/test.signed